# 🚀 构建 Workflows 使用指南

## ✅ 完成的配置

我已经为你配置了灵活的双模式构建系统：

### 1. 默认构建（自动）
- **文件**: `.github/workflows/build.yml`
- **触发**: 推送 `v*` 标签时自动运行
- **构建**: 标准版（纯 Tauri 模式）
- **特点**: 无端口冲突，最佳性能

### 2. 双版本构建（手动）
- **文件**: `.github/workflows/dual-build.yml`  
- **触发**: 仅手动运行
- **构建**: 同时构建标准版和服务器版
- **特点**: 灵活选择，满足不同需求

## 🎯 使用方式

### 常规发布（推荐）
```bash
# 1. 更新版本
npm version patch  # 或 minor, major

# 2. 推送标签
git push origin --tags

# 3. 自动构建标准版 ✅
```

### 特殊需求：双版本发布
1. 进入 GitHub 仓库
2. Actions → "Dual Mode Build" → "Run workflow"
3. 输入版本号：`v1.0.0`
4. 选择创建发布：`true`
5. 获得两个版本的软件包 ✅

## 📦 构建结果对比

| 场景 | 触发方式 | 构建结果 | 端口处理 |
|------|----------|----------|----------|
| **日常发布** | 推送标签 | 标准版 | 无端口使用 |
| **开发者版** | 手动触发 | 服务器版 | 智能端口管理 |
| **完整发布** | 手动双构建 | 两个版本 | 分别处理 |

## 🔧 当前状态

- ✅ **双版本 workflow 已添加**
- ✅ **默认不启用**（仅手动触发）
- ✅ **保持原有的自动构建**
- ✅ **完整的端口冲突解决方案**

## 🎉 总结

现在你有了最灵活的构建配置：

1. **正常情况**：推送标签 → 自动构建标准版（无端口问题）
2. **特殊需求**：手动触发 → 构建双版本（满足所有用户）
3. **开发调试**：可选择服务器模式（完整功能）

这样既保证了默认的简洁性，又提供了必要时的灵活性！