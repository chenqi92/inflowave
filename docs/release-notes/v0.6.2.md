# InfloWave v0.6.2 发布说明

## 🎉 重要修复版本

### 📦 Windows MSI 打包修复

本版本主要解决了 v0.6.1 中 Windows MSI 安装包构建失败的问题，并新增了微软商店打包支持。

## 🐛 关键修复

### 🔨 MSI 打包问题修复
- **修复** Windows MSI 构建失败问题：`The 'target/release/InfloWave.exe' file does not exist`
- **修复** WiX 构建流程中的文件路径错误
- **修复** cargo-wix 与 Tauri 构建流程的集成问题
- **优化** Windows 构建脚本，确保正确的构建顺序

### ⚙️ 构建流程优化
- **改进** GitHub Actions 中的 Windows 构建步骤
- **修复** MSI 和 EXE 安装包的并行构建冲突
- **优化** 构建依赖检查和错误处理
- **增强** 构建日志输出，便于问题诊断

## ✨ 新增功能

### 📱 微软商店支持
- **新增** Microsoft Store 应用包 (MSIX) 构建支持
- **新增** 应用商店发布配置文件
- **新增** 自动化商店包构建流程
- **配置** 商店应用的权限和功能声明

### 🛠️ 构建工具增强
- **新增** MSIX 打包脚本 (`scripts/build-msix.ps1`)
- **更新** Windows 构建脚本，支持多种安装包格式
- **新增** 商店应用配置验证工具
- **优化** 跨平台构建矩阵配置

## 📦 安装包支持

### Windows (6种格式) ✅
- **NSIS 安装包** - `InfloWave_0.6.2_x64-setup.exe` / `InfloWave_0.6.2_x86-setup.exe`
- **MSI 安装包** - `InfloWave_0.6.2_x64.msi` / `InfloWave_0.6.2_x86.msi` 🆕 修复
- **MSIX 应用包** - `InfloWave_0.6.2_x64.msix` / `InfloWave_0.6.2_x86.msix` 🆕

### macOS (4种格式) ✅
- **DMG 镜像** - `InfloWave_0.6.2_x64.dmg` / `InfloWave_0.6.2_aarch64.dmg`
- **APP 包** - `InfloWave.app.tar.gz` (Intel/Apple Silicon)

### Linux (6种格式) ✅
- **DEB 包** - `InfloWave_0.6.2_amd64.deb` / `InfloWave_0.6.2_arm64.deb`
- **RPM 包** - `InfloWave-0.6.2-1.x86_64.rpm` / `InfloWave-0.6.2-1.aarch64.rpm`
- **AppImage** - `InfloWave_0.6.2_amd64.AppImage` / `InfloWave_0.6.2_aarch64.AppImage`

## 🔧 技术改进

### 📋 Windows 构建优化
- **重构** MSI 构建流程，避免与 Tauri 构建冲突
- **优化** WiX 模板配置，确保正确的文件引用
- **改进** 构建脚本错误处理和重试机制
- **增强** 构建环境检测和依赖验证

### 🛠️ 构建流程改进
- **分离** MSI 和 EXE 构建步骤，避免并行冲突
- **优化** 构建缓存策略，提高构建效率
- **增强** 构建状态检查和失败恢复
- **改进** 跨平台构建的一致性

### 🔍 质量保证
- **新增** MSI 包完整性验证
- **增强** 构建前环境检查
- **完善** 错误日志收集和分析
- **优化** 自动化测试覆盖率

## 🚀 性能优化

### ⚡ 构建性能
- **优化** Windows 构建时间，减少不必要的重复步骤
- **改进** 依赖安装缓存，提高重复构建速度
- **精简** 构建矩阵，移除冗余配置
- **优化** 并行构建策略

### 📦 包大小优化
- **优化** MSI 包压缩配置
- **精简** MSIX 包依赖项
- **改进** 资源文件打包策略
- **减少** 冗余文件包含

## 🔄 兼容性

### 📱 平台支持
- **Windows** 10/11 (x64/x86) - 支持传统安装包和商店应用
- **macOS** 10.15+ (Intel/Apple Silicon)
- **Linux** Ubuntu 20.04+, CentOS 8+, Fedora 35+ (x64/ARM64)

### 🏪 分发渠道
- **GitHub Releases** - 所有平台的直接下载
- **Microsoft Store** - Windows 商店应用 🆕
- **包管理器** - 支持各平台的包管理器安装

## 📝 开发者工具

### 🛠️ 新增命令
```bash
# 构建 Windows MSI 包（修复版）
npm run build:windows:msi

# 构建微软商店应用包
npm run build:windows:msix

# 验证所有 Windows 安装包
npm run validate:windows:packages

# 本地测试所有安装包格式
npm run test:packages:local
```

### 📋 构建验证
```bash
# 检查 MSI 构建环境
node scripts/check-msi-env.cjs

# 验证 MSIX 配置
node scripts/validate-msix.cjs

# 测试安装包完整性
node scripts/test-packages.cjs
```

## 🔮 下一步计划

### 🎯 v0.6.3 计划
- **增强** 自动更新机制，支持所有安装包格式
- **优化** 商店应用的权限和功能
- **改进** 安装包的数字签名支持

### 🚀 v0.7.0 展望
- **新增** 插件系统架构
- **扩展** 更多数据库连接器
- **增强** 数据可视化和分析功能

## 🙏 致谢

特别感谢用户反馈的 MSI 安装包问题，您们的报告帮助我们快速定位和解决了这个关键问题。

## 📞 支持

如果您在使用过程中遇到任何问题，请通过以下方式联系我们：

- **GitHub Issues**: [https://github.com/chenqi92/inflowave/issues](https://github.com/chenqi92/inflowave/issues)
- **讨论区**: [https://github.com/chenqi92/inflowave/discussions](https://github.com/chenqi92/inflowave/discussions)
- **邮箱**: support@kkape.com

---

**完整更新日志**: [v0.6.1...v0.6.2](https://github.com/chenqi92/inflowave/compare/v0.6.1...v0.6.2)
